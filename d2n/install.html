<p><a href='javascript:function e(e){return score=0,count=$(e).length,$(e).each(function(){score+=parseInt($(this).text())}),additional=(40-count)*(parseInt($(e+":first").text())+1),str=score+" (not including souls)",additional>0&&(str+="\nand at least "+additional+" points if the rest ("+(40-count)+") die today\nTotalling: "+(score+additional)),str}loc=window.location.href,loc.indexOf("www.die2nite.com")!=-1?loc.indexOf("ghost/ingame")!=-1?str=e("td.days"):str="This only works on Town history pages":str="This only works on die2nite.com",alert(str);'>Calculate Town Score</a></p>
<p><a href='javascript:i=[],$("a.tid_user").each(function(){i=i.concat($(this).attr("tid_id"))}),_tid.askDiscuss(i.join(","));'>Create Twinoid Message From Town</a></p>
<p><a href='javascript:loc=window.location.href;if(loc.indexOf("www.die2nite.com")!=-1&&loc.indexOf("city/buildings")!=-1){total=$("div.bprogress").width(),list=[],CONST=.7,FACTOR=2,strip=function(e){return e.replace(/^\s+|\s+$/g,"")},ar2int=function(e,t){return parseInt(strip(e[t]))},$("tr.building").each(function(){var e="children";damage=$(this)[e]("td.rsc")[e]("div.damage"),damage.length>0&&(array=/<em>Status:<\/em>\s+([0-9]+\s+\/\s+[0-9]+)\s+<p>/g.exec(damage.attr("onmouseover"))[1].split("/"),need=Math.ceil(ar2int(array,1)*CONST)+1-ar2int(array,0),ap=Math.ceil(need/FACTOR),ap>0&&(list=list.concat([[strip($(this)[e]("td.name").text()),need,ap]])))});if(list.length==0)alert("All appear to be repaired");else{str="",t=0;for(i=0;i<list.length;i++)str=str+list[i][0]+" needs "+list[i][1]+" so add "+list[i][2]+"\n",t+=list[i][2];str=str+"Total: "+t,alert(str)}}else alert("Use this on the construction page in town");'>HC Repair Calculator</a>: 
This calculates the repair needed for each building.<br>
Let's say a building's status is 12/43. To find the amount needed you:
<ul>
    <li>Multiply 43 * 0.7, and round up (to find the maximum damage it can take)</li>
    <li>Add 1, so that the building is safe</li>
    <li>Subtract the current status (12)</li>
    <li>Then divide that all by 2, since each AP gives 2 Status points</li>
    <li>And round that up also, since you need at least that many points, but not less</li>
</ul>
This total is displayed in a message, which explains per building.
</p>
